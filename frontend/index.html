<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Value Odds Bot</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
<div class="container mx-auto px-4 py-6">
    <h1 class="text-3xl font-bold mb-4">Dagens v√§rdeodds</h1>
    <div id="matches" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    </div>
</div>
<script>
async function loadOdds() {
    try {
        const response = await fetch('/odds');
        const data = await response.json();
        const matchesDiv = document.getElementById('matches');
        matchesDiv.innerHTML = '';
        data.forEach(match => {
            const card = document.createElement('div');
            card.className = 'bg-white p-4 rounded shadow';
            const title = document.createElement('h2');
            title.className = 'text-xl font-semibold mb-2';
            title.textContent = match.home_team + ' vs ' + match.away_team;
            card.appendChild(title);
            match.bookmakers.forEach(bm => {
                const bmDiv = document.createElement('div');
                bmDiv.className = 'mb-2';
                const bmTitle = document.createElement('h3');
                bmTitle.className = 'font-medium';
                bmTitle.textContent = bm.title;
                bmDiv.appendChild(bmTitle);
                bm.markets.forEach(market => {
                    market.outcomes.forEach(out => {
                        const span = document.createElement('span');
                        span.className = 'mr-2';
                        span.textContent = out.name + ': ' + out.price;
                        bmDiv.appendChild(span);
                    });
                });
                card.appendChild(bmDiv);
            });
            matchesDiv.appendChild(card);
        });
    } catch (error) {
        console.error('Error loading odds:', error);
    }
}
loadOdds();
setInterval(loadOdds, 15 * 60 * 1000);
</script>
</body>
</html>
